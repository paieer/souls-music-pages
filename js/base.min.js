"use strict";const musicData=[{backgroundImage:"https://pages.souls-music.com/images/poster-1.jpg",posterUrl:"https://pages.souls-music.com/images/poster-1.jpg",title:"",album:"最伟大的著作[第一章]",year:2024,artist:"Soul's Whisper"},{backgroundImage:"https://pages.souls-music.com/images/poster-2.jpg",posterUrl:"https://pages.souls-music.com/images/poster-2.jpg",title:"",album:"Soul's Whisper",year:2024,artist:"最伟大的著作[第二章]"}],ap=new APlayer({container:document.getElementById("aplayer"),fixed:!1,listFolded:!0,mutex:!0,preload:!1,audio:[]}),addEventOnElements=function(t,e,a){for(let s=0,l=t.length;s<l;s++)t[s].addEventListener(e,a)},playlist=document.querySelector("[data-music-list]"),current_page_url=window.location.href;var index=current_page_url.lastIndexOf("/");const num_item=current_page_url.substring(index+1,current_page_url.length);for(let t=0,e=musicData.length;t<e;t++)playlist.innerHTML+=`\n<li>\n\t<button class="music-item ${t===num_item-1?"playing":""}" data-playlist-toggler data-playlist-item="${t}">\n\t<img src="${musicData[t].posterUrl}" width="800" height="800" alt="${musicData[t].title} Album Poster"\n\t\tclass="img-cover">\n\n\t<div class="item-icon">\n\t\t<span class="material-symbols-rounded">equalizer</span>\n\t</div>\n\t</button>\n</li>\n`;const playlistSideModal=document.querySelector("[data-playlist]"),playlistTogglers=document.querySelectorAll("[data-playlist-toggler]"),overlay=document.querySelector("[data-overlay]"),togglePlaylist=function(){playlistSideModal.classList.toggle("active"),overlay.classList.toggle("active"),document.body.classList.toggle("modalActive")};addEventOnElements(playlistTogglers,"click",togglePlaylist);const playlistItems=document.querySelectorAll("[data-playlist-item]");let firstLoad=!0,currentMusic=num_item-1,lastPlayedMusic=num_item-1;const changePlaylistItem=function(){playlistItems[lastPlayedMusic].classList.remove("playing"),playlistItems[currentMusic].classList.add("playing")},loadAplayerMusic=function(){switch(ap.list.clear(),currentMusic+1){case 1:ap.list.add([{name:"半岛铁盒",artist:"Soul's Whisper",url:"https://echeverra.cn/wp-content/uploads/2022/05/周杰伦-半岛铁盒.mp3",pic:"https://echeverra.cn/wp-content/uploads/2022/05/周杰伦-半岛铁盒-mp3-image.png"},{name:"给我一首歌的时间",artist:"Soul's Whisper",url:"https://echeverra.cn/wp-content/uploads/2021/06/周杰伦-给我一首歌的时间.mp3",pic:"https://echeverra.cn/wp-content/uploads/2021/06/周杰伦-给我一首歌的时间-mp3-image.png"}]);break;case 2:ap.list.add([{name:"时间1",artist:"Soul's Whisper",url:"https://r2.souls-music.com/music/music-1.mp3",pic:"https://pages.souls-music.com/images/poster-1.jpg"},{name:"时间2",artist:"Soul's Whisper",url:"https://r2.souls-music.com/music/music-2.mp3",pic:"https://pages.souls-music.com/images/poster-2.jpg"}])}firstLoad?firstLoad=!1:ap.play()};addEventOnElements(playlistItems,"click",function(){lastPlayedMusic=currentMusic,currentMusic=Number(this.dataset.playlistItem),loadAplayerMusic(),changePlaylistItem()}),loadAplayerMusic();const playerBanner=document.querySelector("[data-player-banner]"),playerAlbum=document.querySelector("[data-album]"),playerYear=document.querySelector("[data-year]"),playerArtist=document.querySelector("[data-artist]"),changePlayerInfo=function(){playerBanner.src=musicData[currentMusic].posterUrl,playerBanner.setAttribute("alt",`${musicData[currentMusic].title} Album Poster`),document.body.style.backgroundImage=`url(${musicData[currentMusic].backgroundImage})`,playerAlbum.textContent=musicData[currentMusic].album,playerYear.textContent=musicData[currentMusic].year,playerArtist.textContent=musicData[currentMusic].artist};changePlayerInfo(),addEventOnElements(playlistItems,"click",changePlayerInfo);